cluster_name: rancher-home
ssh_key_path: /home/alessandro/.ssh/id_rsa
enable_cluster_alerting: true
enable_cluster_monitoring: true
enable_network_policy: true
ignore_docker_version: true
ingress:
  provider: none
network:
  plugin: canal
services:
  etcd-snapshot:
    retention: 3d
    interval_hours: 1h
  kube-controller:
    extra_args:
      feature-gates: "EphemeralContainers=true"
  scheduler:
    extra_args:
      feature-gates: "EphemeralContainers=true"
  kube-api:
    secrets_encryption_config:
      enabled: true
    extra_args:
#      encryption-provider-config: "/etc/kubernetes/encryption.yaml"
      feature-gates: "EphemeralContainers=true"
  kubelet:
    extra_args:
      feature-gates: "EphemeralContainers=true"
      max-pods: 250
system_images:
    kubernetes: rancher/hyperkube:v1.17.5-rancher1
nodes:
  - address: cloud.stackmasters.com
    internal_address: 192.168.178.2
    user: alessandro
    role: [controlplane,etcd,worker]
    ssh_key_path: ~/.ssh/id_rsa
  - address: nuc1
    internal_address: 192.168.178.5
    user: alessandro
    role: [worker]
    ssh_key_path: ~/.ssh/id_rsa
  - address: nuc2
    internal_address: 192.168.178.6
    user: alessandro
    role: [worker]
    ssh_key_path: ~/.ssh/id_rsa
  - address: box
    internal_address: 192.168.178.9
    user: alessandro
    role: [worker]
    ssh_key_path: ~/.ssh/id_rsa
authentication:
    strategy: x509
    sans:
      - "nas.stackmasters.com"
